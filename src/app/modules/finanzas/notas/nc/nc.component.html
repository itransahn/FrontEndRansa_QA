<div style="position: relative; margin-bottom: 5px;" class="container" >
    <mat-card class="cardPersonalizada" *ngIf="tipo == 1">
        <form [formGroup]="form" #f="ngForm">
            <div class="row">
                <div class="col-md-4">
                    <mat-form-field appearance="legacy">
                        <mat-label> Cantidad </mat-label>
                        <input matInput maxlength="5" placeholder=" Cantidad " formControlName ="cantidad">
                    </mat-form-field>
                </div>

           
                <div class="col-md-4">
                    <mat-form-field appearance="legacy">
                        <mat-label> Precio Unitario </mat-label>
                        <input matInput mask="separator.2" thousandSeparator="," placeholder=" Precio Unitario " formControlName ="punitario">
                    </mat-form-field>
                </div>

                <!-- <div class="col-md-4">
                    <mat-form-field appearance="legacy">
                        <mat-label> Descuento y Reb Otorgada </mat-label>
                        <input matInput maxlength="50" placeholder=" Descuento y Reb Otorgada " formControlName ="anio">
                    </mat-form-field>
                </div> -->
                
                <div class="col-md-4">
                    <mat-form-field appearance="legacy">
                        <mat-label> Impuesto </mat-label>
                        <input matInput mask="separator.2" thousandSeparator=","   placeholder=" Impuesto " formControlName ="impuesto">
                    </mat-form-field>
                </div>

                <div class="col-md-12">
                    <mat-form-field appearance="legacy">
                        <mat-label> Descripción </mat-label>
                        <textarea matInput maxlength="250" placeholder=" Descripción " style="text-transform:uppercase;"  formControlName ="detalle"></textarea>
                    </mat-form-field>
                </div>

                <div class="container">
                    <button class="buttonPrincipal" mat-raised-button type="submit" [disabled]="f.invalid" (click)="llenarDataManual()" > Agregar </button>
                </div>

            </div>
        </form>
    </mat-card>
</div>

<div class="container "  id="originalNC" *ngIf="loading && loading1 && permitido">
    <mat-card class="cardPersonalizada">
        <div class="row">
            <div class="col-md-6">
                <img *ngIf="sede == 1" src="../../../../assets/images/logoRansa.ico"  class="img" alt="">
                <img *ngIf="sede == 2" src="../../../../../assets/images/Almahsa.png" class="img" alt="">
                <p class = "black empresa">
                    <span class="nombre" > {{parametros[0]?.['nombreCompleto']}}</span> <br>
                    <span class="rtn"> RTN: {{parametros[0]?.['rtnEmpresa']}}</span>  <br>
                     {{parametros[0]?.['direccion1']}} {{ parametros[0]?.['direccion2']}} <br>
                     Municipio: {{ parametros[0]?.['municipio']}}, Departamento: {{ parametros[0]?.['Departamento']}} <br> 
                     Tel: {{parametros[0]?.['Telfijo']}}, {{parametros[0]?.['TelCel']}}  <br>
                    <span *ngIf="parametros[0]?.['correo']"> Correo: {{parametros[0]?.['correo']}}  </span>
                    </p>
            </div>
    
            <div class="col-md-6 mt-4 rigth">
                <p class="black">
                <span class="rigth factura">NOTA DE CREDITO </span> <br>
                <span *ngIf="ruta.snapshot.params['empresa'] == 'RH'" class="rigth correlativo factura">
                        <!-- 000-001-01-{{retornarCorrelativo()}} -->
                        000-002-06-{{retornarCorrelativo()}}    <br>     
                </span> 
                <span *ngIf="ruta.snapshot.params['empresa'] == 'AH'" class="rigth correlativo factura">
                    <!-- 000-001-01-{{retornarCorrelativo()}} -->
                    000-002-06-{{retornarCorrelativo()}} <br>           
                    
                </span>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;"> Fecha: {{ dia }}/{{mesN}}/{{anio}} </span><br><br>
                <span  class="rigth empresa">  CAI: {{parametrosCai[0]['CAI']}} </span> <br>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;"> Rango Autorizado: </span> <br>
                <span  class="rigth empresa"> {{parametrosCai[0]['desde']}} AL {{parametrosCai[0]['hasta']}} </span> <br>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;">Fecha Limite De Emisión: {{ parametrosCai[0]['fechaLimite'] | date: 'dd/MM/yyyy' }} </span> <br>
                 <!-- <span class="rigth empresa"> Fecha Limite de Emisión : {{ parametrosCai[0]['fechaLimite'] | date : 'dd/MM/yyyy' }} </span> -->
         
                </p>
            </div>

            <!-- Detalle de la generación  -->
            <div class="container mt-4">
                <div class="row contain1">
                    <div class="col-md-8 containB" style="width: 80% !important;">
                    <p class="empresa" style="text-align: left !important; font-size: 1.3em !important;">
                    Sr.(a): {{ cabeceraN[0]['TCMPCL'] }} <br>
                    Dirección: {{ cabeceraN[0]['TDRCOR'] }} <br>
             
                    </p>
                    </div>
                <div class="col-md-4 rigth container2" style="color:black !important ">
                     <!-- <p class="empresa"> Nota de Crédito por L. <span style="font-weight: bold !important;"> {{ (cabeceraN[0]['ITTFCS'] * -1) | number :'1.2-2' }} </span> </p> -->
                    <p class="empresa container2" style="text-align: left !important; font-size: 1.3em !important;">
                    RTN : {{ cabeceraN[0]['NRUC2']}} <br>
                    <!-- Fecha de emisión comprobante: {{ dia }}  {{ mes }} {{ anio }} <br> -->
                        <!-- CAI del Comprobante:    <br>
                        NO. Correlativo Comprobante: <br> -->
                    </p>

                </div>
                </div>
            </div>
            <!-- Detalle de la generación  -->

            <!-- Comentario de la nota de débito -->
            <div class="col-md-12">
                <h4 class="container completo empresa black"> En esta fecha hemos registrado en su cuenta el valor que indica la presente NOTA DE CREDITO, por el siguiente motivo:  </h4>
            </div>
        </div>
        
     <div class="tabla mb-4">
                <div class="table-responsive !important" >
                    <table>
                        <thead>
                          <tr>
                            <th class="contenidoF detalletfootI" scope="col">No.</th>
                            <th class="contenidoF detalletfoot"  scope="col"colspan="2" >Descripcion</th>
                            <th class="contenidoF detalletfoot"  scope="col">Sub Total</th>
                            <th class="contenidoF detalletfoot"  scope="col">Impuesto</th>
                            <th class="contenidoF detalletfootR" scope="col">Monto Total</th>
                          </tr>
                        </thead>
                        <tbody class="bordes2" *ngIf="tipo == 0">
                          <tr *ngFor="let item of DcabeceraN; let i = index" class="bodyTed">
                            <td data-label="No." class="contenidoF"> {{ i + 1  }} </td>
                            <td data-label="Descripcion" colspan="2" class="contenidoF left"> {{ item?.TCMTRF }} </td>
                            <td data-label="Sub Total" class="contenidoF center"> {{ (item?.IVLDCS * -1 ) | number : '1.2-2' }}</td>
                            <td data-label="Impuesto"  class="contenidoF center">  {{  retornarImpuesto(item?.TCMTRF, item?.IVLDCS)  | number : '1.2-2' }}</td>
                            <td data-label="Monto Total" class="contenidoF center"> {{ total(item?.TCMTRF, item?.IVLDCS)  | number : '1.2-2' }} </td>
                          </tr>
                          
                            <tr  *ngFor="let item of espaciosBlancos"  class="expTable"> 
                                <td class="espacioB"  colspan="6"></td>
                            </tr>
                            <tr> 
                                <td style="text-align:left !important; " class="espacioB bodyTed2" colspan="6" >
                                    <span *ngFor="let item of EstrObs2" >
                                        {{ item?.TOBCTC}}
                                    </span>
                                </td>
                                <!-- <td class="espacioB bodyTed2" colspan="3"> </td> -->
                            </tr>
                            
                            <!-- <tr style=" border-collapse: collapse;"> 
                                <td style="text-align:left !important; font-size: 0.9em !important; " class="espacioB" colspan="3">
                                    CIENTO OCHENTA Y NUEVE MIL CUATROCIENTOS NOVENTA Y SEIS CON NOVENTA Y OCHO CENTAVOS
                                    {{ letras | uppercase }}
                                </td>
                                <td class="espacioB" colspan="3"> </td>
                            </tr> -->
                        
                            <!-- <tr style=" border-collapse: collapse;"> 
                                <td style="font-size: 0.9em !important; " class="espacioB rigth" colspan="3">
                                    TOTALES
                                </td>
                                <td style="font-size: 0.9em !important; " class="espacioB center">
                                        {{ (DcabeceraN[0]['IVLDCS'] * ) | number :'1.2-2' }}
                                </td>
                                <td style="font-size: 0.9em !important; " class="espacioB center">
                                        {{ ( cabeceraN[0]['IVLIGS'] * )  | number :'1.2-2' }}
                                </td>
                                <td style="font-size: 0.9em !important; " class="espacioB center">
                                    {{ (cabeceraN[0]['ITTFCS'] * ) | number :'1.2-2' }}
                            </td>
                            </tr> -->
                        </tbody>

                        <tbody class="bordes2" *ngIf="tipo == 1">
                            <tr *ngFor="let item of detalleServicios; let i = index" class="bodyTed"> 
                              <td data-label="No." class="contenidoF"> {{ i + 1  }} </td>
                              <td data-label="Descripcion" colspan="2" class="contenidoF left"> {{item?.descripcion  | uppercase }} </td>
                              <td data-label="Sub Total" class="contenidoF">{{ item?.Punitario | number : '1.2-2' }}</td>
                              <td data-label="Impuesto"  class="contenidoF center">  {{  retornarImpuesto(item?.descripcion, item?.Punitario )  | number : '1.2-2' }}</td>
                              <td data-label="Monto Total" class="contenidoF center"> {{ total(  item?.descripcion, item?.Punitario )  | number : '1.2-2' }} </td>
                            </tr>
                     
      
                            <!-- <tr>
                              <td data-label="CANTIDAD"> 01</td>
                              <td data-label="DESCRIPCION">FLETE</td>
                              <td data-label="PRECIO UNITARIO">{{ 4047 | currency : 'Lps' }}</td>
                              <td data-label="DESC. Y REB OTORGADA">{{ 0    | currency : 'Lps' }}</td>
                              <td data-label="IMPUESTO"> G </td>
                              <td data-label="TOTAL">{{ 4047    | currency  : 'Lps'}}</td>
                            </tr> -->
      
                            <tr  *ngFor="let item of espaciosBlancos"  class="expTable"> 
                                <td class="espacioB"  colspan="6"></td>
                            </tr>
                            <tr> 
                                <td style="text-align:left !important; " class="espacioB bodyTed2" colspan="6" >
                                    <span *ngFor="let item of EstrObs2" >
                                        {{ item?.TOBCTC}}
                                    </span>
                                </td>
                                <!-- <td class="espacioB bodyTed2" colspan="3"> </td> -->
                            </tr>
                          
                            
                            
                          </tbody>

                        <tfoot>
                            <tr >
                                    <!-- Número a letras -->
     <th class="rigth exp" colspan="3" > TOTALES </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >0 &&        ( retornarTotal() * -1 ) <= 99 ">             <span   class="letra0">         L </span>   {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=100 &&     ( retornarTotal() * -1 ) <= 999  ">         <span  class="letra100">      L </span>       {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=1000 &&    ( retornarTotal() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>        {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=10000 &&   ( retornarTotal() * -1 ) <= 99999">       <span  class="letra10000">    L </span>         {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=100000 &&  ( retornarTotal() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>          {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=1000000 && ( retornarTotal() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>           {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >= 10000000 ">                                                 <span  class="letra10000000"> L </span> {{ retornarTotal() * -1 | number :'1.2-2' }} </th>


    <!-- <th class="espacioB center">  {{ ( cabeceraN[0]['IVLIGS'] ) * -1 | number :'1.2-2' }} </th> -->

    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >0 &&        ( retornarTotalIsv() * -1 ) <= 99 ">             <span  class="letra0">         L </span> {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=100 &&     ( retornarTotalIsv() * -1 ) <= 999  ">         <span  class="letra100">      L </span>    {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=1000 &&    ( retornarTotalIsv() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>     {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=10000 &&   ( retornarTotalIsv() * -1 ) <= 99999">       <span  class="letra10000">    L </span>      {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=100000 &&  ( retornarTotalIsv() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>       {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=1000000 && ( retornarTotalIsv() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>        {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >= 10000000 ">  <span  class="letra10000000"> L </span>                                                {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>



    <!-- <th class="espacioB center">  {{ (cabeceraN[0]['ITTFCS'] )  * -1 | number :'1.2-2' }} </th> -->

    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >0 &&        ( retornarTotalN() * -1 ) <= 99 ">             <span  class="letra0">         L </span>   {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=100 &&     ( retornarTotalN() * -1 ) <= 999  ">         <span  class="letra100">      L </span>      {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=1000 &&    ( retornarTotalN() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>       {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=10000 &&   ( retornarTotalN() * -1 ) <= 99999">       <span  class="letra10000">    L </span>        {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=100000 &&  ( retornarTotalN() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>         {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=1000000 && ( retornarTotalN() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>          {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
    <th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >= 10000000 ">                                                 <span  class="letra10000000"> L </span> {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
                            </tr>
                        </tfoot>  
                      </table>
           
                   </div>
                   <span class="left mb-4" style="color:black !important; font-size: 1.33em !important;">
                    {{ letras | uppercase }}
            </span>
            </div>
 
  <!-- Motivo de Nota de Crédito -->
<div class="col-md-12 container">
    <p class="black empresa">
        Motivo de Emisión de la Nota de Crédito: 
    </p>
    <section class="example-section ml-4">
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="anulacion"><span>Anulación</span>  </mat-checkbox>
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="devolcion"><span>Devolución</span> </mat-checkbox>
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="descuento"><span>Descuento</span>  </mat-checkbox>
      </section>
</div>
<div class="col-md-12 mb-4 completo black">
    <h3 *ngIf="Motivo" class="completo empresa">
        Otros especifique: <span style="text-decoration: underline; margin-left: 1px; font-size: 1.3em !important;"> {{  Motivo }} </span>
    </h3>
    <h3 *ngIf="!Motivo" class="completo empresa" style="font-size: 1.3em !important;">
        Otros especifique:____________________________________________________________________________
    </h3>
    </div>

<div class="row" style="margin-top: 10% !important;">
    <div class="col-md-4 mt-4 mb-4 empresa" >
        <p class="black "> 
           _____________________________________ <br>
                   <span style="margin-left: 35%;" class="black ">    Elaborado por </span>
        </p>
       </div>

       <div class="container col-md-4" style="width: 100%;">
        <img *ngIf="sede == 1"  class="firmaIL" src="../../../../../assets/images/FirmaDigital.PNG" alt="">
        <img *ngIf="sede == 1" class="firmaIR" src="../../../../../assets/images/selloRansa.PNG" alt="">

        <img *ngIf="sede == 2"  class="firmaIL" src="../../../../../assets/images/FirmaDigital.PNG" alt="">
        <img *ngIf="sede == 2"  class="firmaIR" src="../../../../../assets/images/almahsaSello.jpg" alt="">
      </div>
       
       <div class="col-md-4 black empresa mt-4 mb-4 empresa" style="text-align: right;" >
        _____________________________________ <br>

               <span style="margin-right: 22%;" class="black ">   Recibí Conforme  </span>

       </div>
    
    <div class="col-md-12 container ">
        <label class="center"  style="color: black !important;"> ORIGINAL-CLIENTE, DUPLICADO-OBLIGADO TRIBUTARIO EMISOR,TRIPLICADO-ARCHIVO </label>
    </div>
    <div class="col-md-12 container">
        <label class="center correlativo" > {{ parametros[0]?.['lemaFactura']}} </label>
    </div>
</div>
<!-- <div class="col-md-4 container footL">
    <label class="center"> DUPLICADO: TRIBUTARIO EMISOR</label>
</div> -->
<!-- <div class="col-md-4 container footL">
    <label class="center"> TRIPLICADO: ARCHIVO</label>
</div> -->
      
    </mat-card>
</div>

<div class="container  mt-4" id="segundaNC" *ngIf="loading && loading1 && permitido">
    <mat-card class="cardPersonalizada">
        <div class="row">
            <div class="col-md-6">
                <img *ngIf="sede == 1" src="../../../../assets/images/LOGO_RANSA_BN.png" class="img" alt="">
                <img *ngIf="sede == 2" src="../../../../../assets/images/Almahsa_BN.png" class="img" alt="">
                <p class = "black empresa">
                    <span class="nombre" > {{parametros[0]?.['nombreCompleto']}}</span> <br>
                    <span class="rtn"> RTN: {{parametros[0]?.['rtnEmpresa']}}</span>  <br>
                     {{parametros[0]?.['direccion1']}} {{ parametros[0]?.['direccion2']}} <br>
                     Municipio: {{ parametros[0]?.['municipio']}}, Departamento: {{ parametros[0]?.['Departamento']}} <br> 
                     Tel: {{parametros[0]?.['Telfijo']}}, {{parametros[0]?.['TelCel']}}  <br>
                    <span *ngIf="parametros[0]?.['correo']"> Correo: {{parametros[0]?.['correo']}}  </span>
                    </p>
            </div>

            <div class="col-md-6 mt-4 rigth">
                <p class="black">
                <span class="rigth factura">NOTA DE CREDITO </span> <br>
                <span *ngIf="ruta.snapshot.params['empresa'] == 'RH'" class="rigth factura">
                        <!-- 000-001-01-{{retornarCorrelativo()}} -->
                        000-002-06-{{retornarCorrelativo()}}      <br>      
                </span> 
                <span *ngIf="ruta.snapshot.params['empresa'] == 'AH'" class="rigth factura">
                    <!-- 000-001-01-{{retornarCorrelativo()}} -->
                    000-002-06-{{retornarCorrelativo()}} <br>           
            </span>
            <span style="font-size: 1.3em !important; font-weight:  bold !important;"> Fecha: {{ dia }}/{{mesN}}/{{anio}} </span><br><br>
                <span  class="rigth empresa">  CAI: {{parametrosCai[0]['CAI']}} </span> <br>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;"> Rango Autorizado: </span> <br>
                <span  class="rigth empresa"> {{parametrosCai[0]['desde']}} AL {{parametrosCai[0]['hasta']}} </span> <br>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;">Fecha Limite De Emisión: {{ parametrosCai[0]['fechaLimite'] | date: 'dd/MM/yyyy'}} </span> <br>
                 <!-- <span class="rigth empresa"> Fecha Limite de Emisión : {{ parametrosCai[0]['fechaLimite'] | date : 'dd/MM/yyyy' }} </span> -->
         
                </p>
            </div>

            <!-- Detalle de la generación  -->
            <div class="container mt-4">
                <div class="row contain1">
                    <div class="col-md-8 containB" style="width: 80% !important;">
                    <p class="empresa"  style="text-align: left !important; font-size: 1.3em !important;">
                    Sr.(a): {{ cabeceraN[0]['TCMPCL'] }} <br>
                    Dirección: {{ cabeceraN[0]['TDRCOR'] }} <br>
             
                    </p>
                    </div>
                    <div class="col-md-4 rigth container2" style="color:black !important ">
                        <!-- <p class="empresa"> Nota de Crédito por L. <span style="font-weight: bold !important;"> {{ (cabeceraN[0]['ITTFCS'] * -1) | number :'1.2-2' }} </span> </p> -->
                       <p class="empresa container2"  style="text-align: left !important; font-size: 1.3em !important;">
                       RTN : {{ cabeceraN[0]['NRUC2']}} <br>
                       <!-- Fecha de emisión comprobante: {{ dia }}  {{ mes }} {{ anio }} <br> -->
                           <!-- CAI del Comprobante:    <br>
                           NO. Correlativo Comprobante: <br> -->
                       </p>
   
                   </div>
                </div>
            </div>
            <!-- Detalle de la generación  -->

            <!-- Comentario de la nota de débito -->
            <div class="col-md-12">
                <h4 class="container completo empresa black"> En esta fecha hemos registrado en su cuenta el valor que indica la presente NOTA DE CREDITO, por el siguiente motivo:  </h4>
            </div>
        </div>
        <div class="tabla mb-4">
            <div class="table-responsive !important" >
                <table>
                    <thead>
                      <tr>
                        <th class="contenidoF detalletfootI" scope="col">No.</th>
                        <th class="contenidoF detalletfoot"  scope="col"colspan="2" >Descripcion</th>
                        <th class="contenidoF detalletfoot"  scope="col">Sub Total</th>
                        <th class="contenidoF detalletfoot"  scope="col">Impuesto</th>
                        <th class="contenidoF detalletfootR" scope="col">Monto Total</th>
                      </tr>
                    </thead>
                    <tbody class="bordes2" *ngIf="tipo == 0">
                      <tr *ngFor="let item of DcabeceraN; let i = index" class="bodyTed">
                        <td data-label="No." class="contenidoF"> {{ i + 1  }} </td>
                        <td data-label="Descripcion" colspan="2" class="contenidoF left"> {{ item?.TCMTRF }} </td>
                        <td data-label="Sub Total" class="contenidoF center"> {{ (item?.IVLDCS * -1 ) | number : '1.2-2' }}</td>
                        <td data-label="Impuesto"  class="contenidoF center">  {{  retornarImpuesto(item?.TCMTRF, item?.IVLDCS)  | number : '1.2-2' }}</td>
                        <td data-label="Monto Total" class="contenidoF center"> {{ total(item?.TCMTRF, item?.IVLDCS)  | number : '1.2-2' }} </td>
                      </tr>
                      
                        <tr  *ngFor="let item of espaciosBlancos"  class="expTable"> 
                            <td class="espacioB"  colspan="6"></td>
                        </tr>
                        <tr> 
                            <td style="text-align:left !important; " class="espacioB bodyTed2" colspan="6" >
                                <span *ngFor="let item of EstrObs2" >
                                    {{ item?.TOBCTC}}
                                </span>
                            </td>
                            <!-- <td class="espacioB bodyTed2" colspan="3"> </td> -->
                        </tr>
                        
                        <!-- <tr style=" border-collapse: collapse;"> 
                            <td style="text-align:left !important; font-size: 0.9em !important; " class="espacioB" colspan="3">
                                CIENTO OCHENTA Y NUEVE MIL CUATROCIENTOS NOVENTA Y SEIS CON NOVENTA Y OCHO CENTAVOS
                                {{ letras | uppercase }}
                            </td>
                            <td class="espacioB" colspan="3"> </td>
                        </tr> -->
                    
                        <!-- <tr style=" border-collapse: collapse;"> 
                            <td style="font-size: 0.9em !important; " class="espacioB rigth" colspan="3">
                                TOTALES
                            </td>
                            <td style="font-size: 0.9em !important; " class="espacioB center">
                                    {{ (DcabeceraN[0]['IVLDCS'] * -1) | number :'1.2-2' }}
                            </td>
                            <td style="font-size: 0.9em !important; " class="espacioB center">
                                    {{ ( cabeceraN[0]['IVLIGS'] * -1)  | number :'1.2-2' }}
                            </td>
                            <td style="font-size: 0.9em !important; " class="espacioB center">
                                {{ (cabeceraN[0]['ITTFCS'] * -1) | number :'1.2-2' }}
                        </td>
                        </tr> -->


                    </tbody>

                    <tbody class="bordes2" *ngIf="tipo == 1">
                        <tr *ngFor="let item of detalleServicios; let i = index" class="bodyTed"> 
                          <td data-label="No." class="contenidoF"> {{ i + 1  }} </td>
                          <td data-label="Descripcion" colspan="2" class="contenidoF left"> {{item?.descripcion  | uppercase }} </td>
                          <td data-label="Sub Total" class="contenidoF">{{ item?.Punitario | number : '1.2-2' }}</td>
                          <td data-label="Impuesto"  class="contenidoF center">  {{  retornarImpuesto(item?.descripcion, item?.Punitario )  | number : '1.2-2' }}</td>
                          <td data-label="Monto Total" class="contenidoF center"> {{ total(  item?.descripcion, item?.Punitario )  | number : '1.2-2' }} </td>
                        </tr>
                 
  
                        <!-- <tr>
                          <td data-label="CANTIDAD"> 01</td>
                          <td data-label="DESCRIPCION">FLETE</td>
                          <td data-label="PRECIO UNITARIO">{{ 4047 | currency : 'Lps' }}</td>
                          <td data-label="DESC. Y REB OTORGADA">{{ 0    | currency : 'Lps' }}</td>
                          <td data-label="IMPUESTO"> G </td>
                          <td data-label="TOTAL">{{ 4047    | currency  : 'Lps'}}</td>
                        </tr> -->
  
                        <tr  *ngFor="let item of espaciosBlancos"  class="expTable"> 
                            <td class="espacioB"  colspan="6"></td>
                        </tr>
                        <tr> 
                            <td style="text-align:left !important; " class="espacioB bodyTed2" colspan="6" >
                                <span *ngFor="let item of EstrObs2" >
                                    {{ item?.TOBCTC}}
                                </span>
                            </td>
                            <!-- <td class="espacioB bodyTed2" colspan="3"> </td> -->
                        </tr>
                      
                        
                        
                      </tbody>
                    <tfoot>
                        <tr >
                                <!-- Número a letras -->
 <th class="rigth exp" colspan="3" > TOTALES </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >0 &&        ( retornarTotal() * -1 ) <= 99 ">             <span   class="letra0">         L </span>   {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=100 &&     ( retornarTotal() * -1 ) <= 999  ">         <span  class="letra100">      L </span>       {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=1000 &&    ( retornarTotal() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>        {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=10000 &&   ( retornarTotal() * -1 ) <= 99999">       <span  class="letra10000">    L </span>         {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=100000 &&  ( retornarTotal() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>          {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=1000000 && ( retornarTotal() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>           {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >= 10000000 ">                                                 <span  class="letra10000000"> L </span> {{ retornarTotal() * -1 | number :'1.2-2' }} </th>


<!-- <th class="espacioB center">  {{ ( cabeceraN[0]['IVLIGS'] ) * -1 | number :'1.2-2' }} </th> -->

<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >0 &&        ( retornarTotalIsv() * -1 ) <= 99 ">             <span  class="letra0">         L </span> {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=100 &&     ( retornarTotalIsv() * -1 ) <= 999  ">         <span  class="letra100">      L </span>    {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=1000 &&    ( retornarTotalIsv() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>     {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=10000 &&   ( retornarTotalIsv() * -1 ) <= 99999">       <span  class="letra10000">    L </span>      {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=100000 &&  ( retornarTotalIsv() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>       {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=1000000 && ( retornarTotalIsv() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>        {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >= 10000000 ">  <span  class="letra10000000"> L </span>                                                {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>



<!-- <th class="espacioB center">  {{ (cabeceraN[0]['ITTFCS'] )  * -1 | number :'1.2-2' }} </th> -->

<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >0 &&        ( retornarTotalN() * -1 ) <= 99 ">             <span  class="letra0">         L </span>   {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=100 &&     ( retornarTotalN() * -1 ) <= 999  ">         <span  class="letra100">      L </span>      {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=1000 &&    ( retornarTotalN() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>       {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=10000 &&   ( retornarTotalN() * -1 ) <= 99999">       <span  class="letra10000">    L </span>        {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=100000 &&  ( retornarTotalN() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>         {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=1000000 && ( retornarTotalN() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>          {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >= 10000000 ">                                                 <span  class="letra10000000"> L </span> {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
                        </tr>
                    </tfoot>  
                  </table>
       
               </div>
               <span class="left mb-4" style="color:black !important; font-size: 1.33em !important;">
                {{ letras | uppercase }}
        </span>
        </div>
     
  <!-- Motivo de Nota de Crédito -->
<div class="col-md-12 container">
    <p class="black empresa">
        Motivo de Emisión de la Nota de Crédito: 
    </p>
    <section class="example-section ml-4">
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="anulacion"><span>Anulación</span>  </mat-checkbox>
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="devolcion"><span>Devolución</span> </mat-checkbox>
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="descuento"><span>Descuento</span>  </mat-checkbox>
      </section>
</div>
<div class="col-md-12 completo black">
    <h3 *ngIf="Motivo" class="completo empresa">
        Otros especifique: <span style="text-decoration: underline; margin-left: 1px;font-size: 1.3em !important;"> {{  Motivo }} </span>
    </h3>
    <h3 *ngIf="!Motivo" class="completo empresa" style="font-size: 1.33em !important;">
        Otros especifique:____________________________________________________________________________
    </h3>
    </div>

    <div class="row" style="margin-top: 10% !important;">
        <div class="col-md-6 mt-4 mb-4 empresa" >
            <p class="black "> 
               __________________________________________ <br>
                       <span style="margin-left: 22%;" class="black ">    Elaborado por </span>
            </p>
           </div>
           
           <div class="col-md-6 black empresa mt-4 mb-4 empresa" style="text-align: right;" >
            __________________________________________ <br>
    
                   <span style="margin-right: 22%;" class="black ">   Recibí Conforme  </span>
           </div>
        
<div class="col-md-4 container" style="color: black !important;">
    <label class="center"> ORIGINAL-CLIENTE, DUPLICADO-OBLIGADO TRIBUTARIO EMISOR,TRIPLICADO-ARCHIVO </label>
</div>
<div class="col-md-12 container">
    <label class="center" style="color: black !important;"> {{ parametros[0]?.['lemaFactura']}} </label>
</div>
    </div>
<!-- <div class="col-md-4 container footL">
    <label class="center"> DUPLICADO: TRIBUTARIO EMISOR</label>
</div> -->
<!-- <div class="col-md-4 container footL">
    <label class="center"> TRIPLICADO: ARCHIVO</label>
</div> -->
      
    </mat-card>
</div>

<div class="container  mt-4" id="terceraNC" *ngIf="loading && loading1 && permitido">
    <mat-card class="cardPersonalizada">
        <div class="row">
            <div class="col-md-6">
                <img *ngIf="sede == 1" src="../../../../assets/images/LOGO_RANSA_BN.png" class="img" alt="">
                <img *ngIf="sede == 2" src="../../../../../assets/images/Almahsa_BN.png" class="img" alt="">
                <p class = "black empresa">
                    <span class="nombre" > {{parametros[0]?.['nombreCompleto']}}</span> <br>
                    <span class="rtn"> RTN: {{parametros[0]?.['rtnEmpresa']}}</span>  <br>
                     {{parametros[0]?.['direccion1']}} {{ parametros[0]?.['direccion2']}} <br>
                     Municipio: {{ parametros[0]?.['municipio']}}, Departamento: {{ parametros[0]?.['Departamento']}} <br> 
                     Tel: {{parametros[0]?.['Telfijo']}}, {{parametros[0]?.['TelCel']}}  <br>
                    <span *ngIf="parametros[0]?.['correo']"> Correo: {{parametros[0]?.['correo']}}  </span>
                    </p>
            </div>
    
<div class="col-md-6 mt-4 rigth">
                <p class="black">
                <span class="rigth factura">NOTA DE CREDITO </span> <br>
                <span *ngIf="ruta.snapshot.params['empresa'] == 'RH'" class="rigth factura">
                        <!-- 000-001-01-{{retornarCorrelativo()}} -->
                        000-002-06-{{retornarCorrelativo()}}   <br>         
                </span>
                <span *ngIf="ruta.snapshot.params['empresa'] == 'AH'" class="rigth factura">
                    <!-- 000-001-01-{{retornarCorrelativo()}} -->
                    000-002-06-{{retornarCorrelativo()}}   <br>         
            </span>
            <span style="font-size: 1.3em !important; font-weight:  bold !important;"> Fecha: {{ dia }}/{{mesN}}/{{anio}} </span><br><br>
                <span  class="rigth empresa">  CAI: {{parametrosCai[0]['CAI']}} </span> <br>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;"> Rango Autorizado: </span> <br>
                <span  class="rigth empresa"> {{parametrosCai[0]['desde']}} AL {{parametrosCai[0]['hasta']}} </span> <br>
                <span style="font-size: 1.3em !important; font-weight:  bold !important;">Fecha Limite De Emisión: {{ parametrosCai[0]['fechaLimite'] | date: 'dd/MM/yyyy'}} </span> <br>
                 <!-- <span class="rigth empresa"> Fecha Limite de Emisión : {{ parametrosCai[0]['fechaLimite'] | date : 'dd/MM/yyyy' }} </span> -->
         
                </p>
            </div>

            <!-- Detalle de la generación  -->
            <div class="container mt-4">
                <div class="row contain1">
                    <div class="col-md-8 containB" style="width: 80% !important;">
                    <p class="empresa"  style="text-align: left !important; font-size: 1.3em !important;">
                    Sr.(a): {{ cabeceraN[0]['TCMPCL'] }} <br>
                    Dirección: {{ cabeceraN[0]['TDRCOR'] }} <br>
             
                    </p>
                    </div>
                    <div class="col-md-4 rigth container2" style="color:black !important ">
                        <!-- <p class="empresa"> Nota de Crédito por L. <span style="font-weight: bold !important;"> {{ (cabeceraN[0]['ITTFCS'] * -1) | number :'1.2-2' }} </span> </p> -->
                       <p class="empresa container2"  style="text-align: left !important; font-size: 1.3em !important;">
                       RTN : {{ cabeceraN[0]['NRUC2']}} <br>
                       <!-- Fecha de emisión comprobante: {{ dia }}  {{ mes }} {{ anio }} <br> -->
                           <!-- CAI del Comprobante:    <br>
                           NO. Correlativo Comprobante: <br> -->
                       </p>
   
                   </div>
                </div>
            </div>
            <!-- Detalle de la generación  -->

            <!-- Comentario de la nota de débito -->
            <div class="col-md-12">
                <h4 class="container completo empresa black"> En esta fecha hemos registrado en su cuenta el valor que indica la presente NOTA DE CREDITO, por el siguiente motivo:  </h4>
            </div>
        </div>
        <div class="tabla mb-4">
            <div class="table-responsive !important" >
                <table>
                    <thead>
                      <tr>
                        <th class="contenidoF detalletfootI" scope="col">No.</th>
                        <th class="contenidoF detalletfoot"  scope="col"colspan="2" >Descripcion</th>
                        <th class="contenidoF detalletfoot"  scope="col">Sub Total</th>
                        <th class="contenidoF detalletfoot"  scope="col">Impuesto</th>
                        <th class="contenidoF detalletfootR" scope="col">Monto Total</th>
                      </tr>
                    </thead>

                    <tbody class="bordes2" *ngIf="tipo == 0">
                      <tr *ngFor="let item of DcabeceraN; let i = index" class="bodyTed">
                        <td data-label="No." class="contenidoF"> {{ i + 1  }} </td>
                        <td data-label="Descripcion" colspan="2" class="contenidoF left"> {{ item?.TCMTRF }} </td>
                        <td data-label="Sub Total" class="contenidoF center"> {{ (item?.IVLDCS * -1 ) | number : '1.2-2' }}</td>
                        <td data-label="Impuesto"  class="contenidoF center">  {{  retornarImpuesto(item?.TCMTRF, item?.IVLDCS)  | number : '1.2-2' }}</td>
                        <td data-label="Monto Total" class="contenidoF center"> {{ total(item?.TCMTRF, item?.IVLDCS)  | number : '1.2-2' }} </td>
                      </tr>
                      
                        <tr  *ngFor="let item of espaciosBlancos"  class="expTable"> 
                            <td class="espacioB"  colspan="6"></td>
                        </tr>
                        <tr> 
                            <td style="text-align:left !important; " class="espacioB bodyTed2" colspan="6" >
                                <span *ngFor="let item of EstrObs2" >
                                    {{ item?.TOBCTC}}
                                </span>
                            </td>
                            <!-- <td class="espacioB bodyTed2" colspan="3"> </td> -->
                        </tr>
                        
                        <!-- <tr style=" border-collapse: collapse;"> 
                            <td style="text-align:left !important; font-size: 0.9em !important; " class="espacioB" colspan="3">
                                CIENTO OCHENTA Y NUEVE MIL CUATROCIENTOS NOVENTA Y SEIS CON NOVENTA Y OCHO CENTAVOS
                                {{ letras | uppercase }}
                            </td>
                            <td class="espacioB" colspan="3"> </td>
                        </tr> -->
                    
                        <!-- <tr style=" border-collapse: collapse;"> 
                            <td style="font-size: 0.9em !important; " class="espacioB rigth" colspan="3">
                                TOTALES
                            </td>
                            <td style="font-size: 0.9em !important; " class="espacioB center">
                                    {{ (DcabeceraN[0]['IVLDCS'] * -1) | number :'1.2-2' }}
                            </td>
                            <td style="font-size: 0.9em !important; " class="espacioB center">
                                    {{ ( cabeceraN[0]['IVLIGS'] * -1)  | number :'1.2-2' }}
                            </td>
                            <td style="font-size: 0.9em !important; " class="espacioB center">
                                {{ (cabeceraN[0]['ITTFCS'] * -1) | number :'1.2-2' }}
                        </td>
                        </tr> -->


                    </tbody>

                    <tbody class="bordes2" *ngIf="tipo == 1">
                        <tr *ngFor="let item of detalleServicios; let i = index" class="bodyTed"> 
                          <td data-label="No." class="contenidoF"> {{ i + 1  }} </td>
                          <td data-label="Descripcion" colspan="2" class="contenidoF left"> {{item?.descripcion  | uppercase }} </td>
                          <td data-label="Sub Total" class="contenidoF">{{ item?.Punitario | number : '1.2-2' }}</td>
                   <td data-label="Impuesto"  class="contenidoF center">  {{  retornarImpuesto(item?.descripcion, item?.Punitario )  | number : '1.2-2' }}</td>
                              <td data-label="Monto Total" class="contenidoF center"> {{ total(  item?.descripcion, item?.Punitario )  | number : '1.2-2' }} </td>
                        </tr>
                 
  
                        <!-- <tr>
                          <td data-label="CANTIDAD"> 01</td>
                          <td data-label="DESCRIPCION">FLETE</td>
                          <td data-label="PRECIO UNITARIO">{{ 4047 | currency : 'Lps' }}</td>
                          <td data-label="DESC. Y REB OTORGADA">{{ 0    | currency : 'Lps' }}</td>
                          <td data-label="IMPUESTO"> G </td>
                          <td data-label="TOTAL">{{ 4047    | currency  : 'Lps'}}</td>
                        </tr> -->
  
                        <tr  *ngFor="let item of espaciosBlancos"  class="expTable"> 
                            <td class="espacioB"  colspan="6"></td>
                        </tr>
                        <tr> 
                            <td style="text-align:left !important; " class="espacioB bodyTed2" colspan="6" >
                                <span *ngFor="let item of EstrObs2" >
                                    {{ item?.TOBCTC}}
                                </span>
                            </td>
                            <!-- <td class="espacioB bodyTed2" colspan="3"> </td> -->
                        </tr>
                      
                        
                        
                      </tbody>
                    <tfoot>
                        <tr >
                                <!-- Número a letras -->
 <th class="rigth exp" colspan="3" > TOTALES </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >0 &&        ( retornarTotal() * -1 ) <= 99 ">             <span   class="letra0">         L </span>   {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=100 &&     ( retornarTotal() * -1 ) <= 999  ">         <span  class="letra100">      L </span>       {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=1000 &&    ( retornarTotal() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>        {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=10000 &&   ( retornarTotal() * -1 ) <= 99999">       <span  class="letra10000">    L </span>         {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=100000 &&  ( retornarTotal() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>          {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >=1000000 && ( retornarTotal() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>           {{ retornarTotal() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( (retornarTotal() ) * -1 ) >= 10000000 ">                                                 <span  class="letra10000000"> L </span> {{ retornarTotal() * -1 | number :'1.2-2' }} </th>


<!-- <th class="espacioB center">  {{ ( cabeceraN[0]['IVLIGS'] ) * -1 | number :'1.2-2' }} </th> -->

<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >0 &&        ( retornarTotalIsv() * -1 ) <= 99 ">             <span  class="letra0">         L </span> {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=100 &&     ( retornarTotalIsv() * -1 ) <= 999  ">         <span  class="letra100">      L </span>    {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=1000 &&    ( retornarTotalIsv() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>     {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=10000 &&   ( retornarTotalIsv() * -1 ) <= 99999">       <span  class="letra10000">    L </span>      {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=100000 &&  ( retornarTotalIsv() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>       {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >=1000000 && ( retornarTotalIsv() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>        {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp2 center" *ngIf="( retornarTotalIsv() * -1 ) >= 10000000 ">  <span  class="letra10000000"> L </span>                                                {{ retornarTotalIsv() * -1 | number :'1.2-2' }} </th>



<!-- <th class="espacioB center">  {{ (cabeceraN[0]['ITTFCS'] )  * -1 | number :'1.2-2' }} </th> -->

<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) <= 0 ">                                                        <span  class="letra0">        L </span> {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >0 &&        ( retornarTotalN() * -1 ) <= 99 ">             <span  class="letra0">         L </span>   {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=100 &&     ( retornarTotalN() * -1 ) <= 999  ">         <span  class="letra100">      L </span>      {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=1000 &&    ( retornarTotalN() * -1 ) <= 9999  ">       <span  class="letra1000">     L </span>       {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=10000 &&   ( retornarTotalN() * -1 ) <= 99999">       <span  class="letra10000">    L </span>        {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=100000 &&  ( retornarTotalN() * -1 ) <= 999999  ">   <span  class="letra100000">   L </span>         {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >=1000000 && ( retornarTotalN() * -1 ) <= 9999999  "> <span  class="letra1000000">  L </span>          {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
<th class="espacioB exp3 center" *ngIf="( retornarTotalN() * -1 ) >= 10000000 ">                                                 <span  class="letra10000000"> L </span> {{ retornarTotalN() * -1 | number :'1.2-2' }} </th>
                        </tr>
                    </tfoot>  
                  </table>
       
               </div>
               <span class="left mb-4" style="color:black !important; font-size: 1.33em !important;">
                {{ letras | uppercase }}
        </span>
        </div>
     
  <!-- Motivo de Nota de Crédito -->
<div class="col-md-12 container">
    <p class="black empresa">
        Motivo de Emisión de la Nota de Crédito: 
    </p>
    <section class="example-section ml-4">
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="anulacion"><span>Anulación</span>  </mat-checkbox>
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="devolcion"><span>Devolución</span> </mat-checkbox>
        <mat-checkbox class="example-margin ml-2 empresa" [disabled]="disabled" [(ngModel)]="descuento"><span>Descuento</span>  </mat-checkbox>
      </section>
</div>
<div class="col-md-12 completo black">
    <h3 *ngIf="Motivo" class="completo empresa">
        Otros especifique: <span style="text-decoration: underline; margin-left: 1px; font-size: 1.3em !important;"> {{  Motivo }} </span>
    </h3>
    <h3 *ngIf="!Motivo" class="completo empresa" style="font-size: 1.3em !important;">
        Otros especifique:____________________________________________________________________________
    </h3>
    </div>

<div class="row" style="margin-top: 10% !important;">

    <div class="col-md-6 mt-4 mb-4 empresa" >
        <p class="black "> 
           __________________________________________ <br>
                   <span style="margin-left: 22%;" class="black ">    Elaborado por </span>
        </p>
       </div>
       
       <div class="col-md-6 black empresa mt-4 mb-4 empresa" style="text-align: right;" >
        __________________________________________ <br>

               <span style="margin-right: 22%;" class="black ">   Recibí Conforme  </span>

       </div>
    
    <div class="col-md-12 container " style="color: black !important;">
        <!-- <label class="center"> ORIGINAL : CLIENTE </label> -->
      <label class="center"> ORIGINAL-CLIENTE, DUPLICADO-OBLIGADO TRIBUTARIO EMISOR,TRIPLICADO-ARCHIVO</label>
    </div>

    <div class="col-md-12 container">
        <label class="center" style="color: black !important;"> {{ parametros[0]?.['lemaFactura']}} </label>
    </div>
</div>
<!-- <div class="col-md-4 container footL">
    <label class="center"> DUPLICADO: TRIBUTARIO EMISOR</label>
</div> -->
<!-- <div class="col-md-4 container footL">
    <label class="center"> TRIPLICADO: ARCHIVO</label>
</div> -->
      
    </mat-card>
</div>

<button mat-raised-button class="buttonPrincipal btn-flotante" #tooltip="matTooltip" matTooltip="Generar PDF"  matTooltipPosition="left" 
(click)="GenerarPdf()" >
    <mat-icon> picture_as_pdf </mat-icon>
</button>

<nav *ngIf="!permitido" aria-label="breadcrumb" class="container">
    <ol class="breadcrumb container">
     <h4> Rango Permitido vencido </h4>
    </ol>
</nav>